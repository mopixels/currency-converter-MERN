(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},21:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),u=(n(21),n(3)),l=n.n(u),i=n(15),s=n(2),m=n(4),f=n.n(m),p=function(e){var t=e.eurAmount,n=e.onChangeEurAmount;return a.a.createElement("div",null,a.a.createElement("input",{type:"number",className:"input",defaultValue:0,value:t,onChange:n,style:{height:"6rem",fontSize:"2rem",padding:".5rem",borderRadius:"1rem",outline:"none"}}))},d=function(e){var t=e.allCurrencies,n=e.foreignAmount,r=e.onChangeForeignAmount,o=e.selectedCurrency,c=t.filter((function(e){return e.currentRate.length>0}));return a.a.createElement("div",null,a.a.createElement("input",{type:"number",className:"input",value:n,onChange:r,style:{height:"6rem",fontSize:"2rem",padding:".5rem",borderRadius:"1rem",outline:"none"}}),a.a.createElement("select",{defaultValue:"",onChange:o,style:{width:"15rem",height:"3rem",borderRadius:"1rem",paddingLeft:".5rem",marginLeft:"1rem",outline:"none"}},a.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Choose currency"),c.map((function(e){return a.a.createElement("option",{key:e._id,value:e.currentRate},e.shortName," | ",e.fullName)}))))};n(40);var h=function(){var e,t,n=Object(r.useState)(),o=Object(s.a)(n,2),c=o[0],u=o[1],m=Object(r.useState)(),h=Object(s.a)(m,2),g=h[0],v=h[1],b=Object(r.useState)(),E=Object(s.a)(b,2),y=E[0],j=E[1],C=Object(r.useState)(),O=Object(s.a)(C,2),w=O[0],A=O[1],S=Object(r.useState)(),N=Object(s.a)(S,2),k=N[0],R=N[1],x=Object(r.useState)(),F=Object(s.a)(x,2),L=F[0],D=F[1],T=Object(r.useState)(!0),z=Object(s.a)(T,2),B=z[0],J=z[1];return B?e=y?parseFloat((y*k).toFixed(4)):"":t=parseFloat((w/k).toFixed(4)),Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://currency-converter-lbapi.herokuapp.com/currencies");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,u(t),n=Date.parse(t[1].lastUpdated),v(new Date(n).toLocaleDateString("lt-LT"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){var n=setTimeout((function(){B?(y||e)&&L&&f.a.post("https://currency-converter-lbapi.herokuapp.com/logs",{eurAmount:y,foreignCurrencyAmount:e,foreignCurrency:L}).then((function(e){return console.log(e.data)})):(t||w)&&L&&f.a.post("https://currency-converter-lbapi.herokuapp.com/logs",{eurAmount:t,foreignCurrencyAmount:w,foreignCurrency:L}).then((function(e){return console.log(e.data)}))}),1e3);return function(){return clearTimeout(n)}}),[L,y,w]),a.a.createElement("div",{className:"App"},c?a.a.createElement("div",null,a.a.createElement("h1",null,"Currency converter"),a.a.createElement("p",{className:"refreshRow"},"Last refresh: ",g),a.a.createElement("div",{className:"eurRow"},a.a.createElement(p,{onChangeEurAmount:function(e){j(e.target.value),J(!0)},eurAmount:t}),a.a.createElement("p",{className:"euroSymbol"},"\u20ac")),a.a.createElement("div",{className:"arrows"},"\u21c5"),a.a.createElement("div",null,a.a.createElement(d,{allCurrencies:c,onChangeForeignAmount:function(e){A(e.target.value),J(!1)},foreignAmount:e,selectedCurrency:function(e){var t=e.target.value;R(t);var n=c.find((function(e){return e.currentRate===t}));D(n.fullName)}}))):a.a.createElement("h3",null,"Loading..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.2f05f4d5.chunk.js.map